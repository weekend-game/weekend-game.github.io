<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
	<title>
		Weekend game
	</title>
	<link rel="stylesheet" type="text/css" href=styles.css>
</head>

<body>
	<table>
		<tr>
			<td class="title1">CMS
			</td>
		</tr>
		<tr>
			<td class="menu">
				<br>
			</td>
		</tr>

		<tr>
			<td class="menu">
				<a class="link" href="index.htm">Главная страница</a>
				|
				<a class="link" href="bankviewer_ru.htm">Просмотр банковских выписок</a>
				|
				<a class="link" href="weekendtexteditor_ru.htm">Текстовый редактор</a>
				|
				<a class="link" href="weekendinterpreter_ru.htm">Интерпретатор</a>
				|
				<a class="link" href="aspenforest_ru.htm">Игра "Осиновый лес"</a>
				|
				CMS
				|
				<a class="link" href="seedkeeper_ru.htm">Учёт семян</a>
				|
				<a class="link" href="weekendwarehouse_ru.htm">Складской учёт</a>
				|
				<a class="link" href="diary_ru.htm">Дневник</a>
			</td>
		</tr>

		<tr>
			<td class="menu">
				<br>
				<hr size=1 noshade>
			</td>
		</tr>
	</table>


<!-- Info -->

<table>
	<tr>
		<td class="text">
			<p>
				<b>Java (11)</b>, <b>Swing</b>, несколько классов, взятых из
				предыдущих проектов (<b>GBL</b>, <b>Loc</b>, <b>Mes</b>, <b>Proper</b>)
			</p>
			<p>У меня возникла проблема. 23 августа 2025 года, находясь в
				отпуске на прекрасном побережье Средиземного моря в городе Сиде, я
				придумал и реализовал заготовку для этого сайта. Я собирался
				опубликовать на нём полные описания всех проектов, и, в общем-то,
				всё получилось. Я придумал двуязычную главную страницу, решил
				отвести под каждый проект (репозиторий) по одной странице для
				каждого языка и начал вести дневник. Но жизнь не стоит на месте.
				Появляются идеи новых проектов, и они должны получить свою страничку
				на сайте. А добавление одной новой страницы вызывает необходимость
				внести изменения на все страницы сайта. И да, можно, конечно, и так,
				но зачем?</p>
			<p>Я сделал собственную CMS (систему управления контентом) для
				ведения своего сайта. Проблема решена! Конечно, можно было бы взять
				что-то готовое, но что? И сколько времени мне понадобилось бы для её
				изучения? Удалось бы сделать сайт таким, каким я его придумал на
				побережье Средиземного моря, или всего лишь примерно таким? В общем,
				дело сделано: CMS создана, и она работает.</p>
			<p>Кроме того, эта CMS позволила попрактиковаться в работе с
				файлами на Java, а также в создании пользовательского интерфейса с
				помощью Swing, в частности: в работе с текстовыми полями,
				радиокнопками, комбобоксами, редактировании списка и двуязычности.</p>
			<p>
				Для разработки использован Eclipse. Проект расположен здесь: <a
					class="link" target="_blank"
					href="https://github.com/weekend-game/weekendcms/">https://github.com/weekend-game/weekendcms/</a>
				(EN) и здесь: <a class="link" target="_blank"
					href="https://gitflic.ru/project/weekend-game/weekendcms/">https://gitflic.ru/project/weekend-game/weekendcms/</a>
				(RU).
			</p>
		</td>
	</tr>
	<tr>
		<td class="title2">Как запустить программу</td>
	</tr>
	<tr>
		<td class="text">
			<p>Скачайте репозиторий на свой компьютер. Всё необходимое для
				работы программы расположено в папке app. Зайдите в папку app и
				запустите программу двойным кликом по WeekendCMS.jar или, если она
				не запускается, двойным кликом по WeekendCMS.bat. Если и последнее
				не запускает программу, то скачайте и установите Java 11 или новее и
				снова попробуйте способы, описанные выше.</p>
		</td>
	</tr>
	<tr>
		<td class="title2">Как открыть проект в Eclipse</td>
	</tr>
	<tr>
		<td class="text"><p>В Eclipse, в меню выберите File -
				Import... В появившемся окне выберите Existing Projects into
				Workspace. Укажите папку скачанного вами репозитория и нажмите
				кнопку Finish. Проект откроется в Eclipse. В Package Explorer (в
				левой части экрана) дважды кликните на файле WeekendCMS.java. Файл
				откроется для редактирования (в центральной части экрана). Запустите
				программу на выполнение, нажав Ctrl+F11 или так, как вам удобно
				запускать программы в Eclipse.</p></td>
	</tr>
	<tr>
		<td id="HowToUse" class="title2">Как работать с программой</td>
	</tr>
	<tr>
		<td class="text">
			<p>Программа помогает создать HTML-страницы сайта в определённом
				стиле - стиле моего сайта. Если нужно что-то другое или что-то ещё,
				то надо дорабатывать программу.</p>
			<p>
				Чтобы легче понять пояснения ниже, надо запустить программу и
				открыть созданный с её помощью сайт. Видим, что сайт состоит из двух
				видов страниц: <a class="link" target="_blank"
					href="https://weekend-game.github.io/">главной страницы</a> и
				страниц проектов, подобных этой странице. Все страницы проектов, в
				принципе, одинаковы.
			</p>
		</td>
	</tr>
	<tr>
		<td class="title3">Главная страница (index.htm)</td>
	</tr>
	<tr>
		<td class="text">
			<p>В центральной части страницы крупным шрифтом отображается
				название всего проекта. В данном случае это название моего профиля -
				Weekend Game. Если запустить программу, то мы увидим, что в
				появившемся окне будет несколько полей. Поле "Название проекта"
				отвечает именно за то, что будет отображаться в центральной части
				главной страницы. Верхняя часть страницы содержит ссылку на сайт с
				проектами и предлагает писать письма на мой адрес. Она выполнена на
				английском языке. Нижняя часть содержит аналогичную информацию, но
				написана на русском языке. Для указания всех этих атрибутов в CMS
				предназначены поля "Сайт для проектов на английском", "Сайт для
				проектов на русском" и "Электронная почта".</p>
			<p>Видим, что на странице, выше и ниже названия всего проекта
				(профиля), расположены линейки меню, т.е. ссылки на страницы каждого
				проекта (репозитория). Предполагается, что сверху будут ссылки на
				страницы на английском языке, а снизу - на русском.</p>
		</td>
	</tr>
	<tr>
		<td class="title3">Страницы проектов (репозиториев)</td>
	</tr>
	<tr>
		<td class="text">
			<p>Перечень страниц проектов (репозиториев) указывается в CMS в
				разделе "Список страниц". Подразумеваются страницы проектов. Для
				каждой страницы указывается "Язык" (EN или RU). Эти значения
				определяют, где будет расположена ссылка на страницу на главной
				странице: сверху или снизу. Ссылки будут формироваться в той
				последовательности, в которой они указаны в списке страниц.
				Расположение можно поменять кнопками "Вверх" и "Вниз",
				расположенными справа от списка. Поле "Наименование" определяет
				название страницы на естественном языке, а поле "Имя файла" — это
				имя файла страницы, которая будет сгенерирована.</p>
			<p>При генерации страниц будет сформирована не только главная
				страница, но и страницы для каждой строки из списка страниц. Каждая
				страница проекта будет содержать заголовок крупным шрифтом и взятый
				из поля "Наименование", а также линейку меню, содержащую ссылки на
				все страницы EN или RU, в зависимости от атрибута самой страницы.
				Таких линеек меню будет две: вверху и внизу страницы. В самом низу
				будет предложение посетить сайты с проектами и email. Содержимое же
				страницы будет взято из одноимённого файла из папки, указанной в
				поле "Папка расположения файлов с текстами". Например, для генерации
				страницы weekendinterpreter.htm следует не только указать её в
				списке страниц, но и разместить описание интерпретатора выходного
				дня в одноимённом файле (weekendinterpreter.htm) и поместить его в
				папку, указанную в поле "Папка расположения файлов с текстами". Если
				такого файла не найдётся, страница weekendinterpreter.htm всё равно
				будет создана, но она будет иметь только заголовок и завершение.</p>
		</td>
	</tr>
	<tr>
		<td class="title3">Генерация сайта</td>
	</tr>
	<tr>
		<td class="text">
			<p>Чтобы получить страницы сайта, нажмите кнопку "Сформировать
				страницы". Все сформированные HTML-файлы будут расположены в папке,
				указанной в поле "Папка для размещения сформированных страниц".
				Таблицу стилей моя CMS не формирует. Её следует создать вручную и
				расположить там, где удобно. Также самостоятельно позаботьтесь о
				размещении файлов с изображениями.</p>
			<p class="text">
				<b>Внимание!</b> Не редактируйте вручную сгенерированные HTML-файлы
				в папке для размещения страниц, так как при очередной генерации они
				будут переписаны.
			</p>
		</td>
	</tr>
	<tr>
		<td id="ProgDescr" class="title2">Как программа написана</td>
	</tr>
	<tr>
		<td class="text">
			<p>
				Главным классом приложения является класс <b>WeekendCMS</b>. Именно
				он содержит статический метод main() для запуска программы. В его
				конструкторе создаётся всё необходимое для работы.
			</p>
			<p>
				Прежде всего, вызывается метод Proper.read(). <b>Proper</b> - это
				класс, который нужен, чтобы приложение могло сохранять данные между
				сеансами работы. Так сохраняется расположение и размер главного
				окна, предпочитаемый язык интерфейса, а также вся информация полей
				ввода и данные списка страниц. Метод read() читает файл с ранее
				записанными данными. Метод save() делает обратное: записывает всё,
				что запомнено в объекте, в файл. Метод setProperty(name, value)
				сохраняет значение value с именем "name". Метод getProperty(name,
				def) читает значение с именем "name"", а если оно не записывалось,
				то будет возвращено значение def. Для записи и восстановления
				расположения и размеров окна приложения используется пара методов
				saveBounds() и setBounds().
			</p>
			<p>
				Затем статическим методом Loc.setLanguage() устанавливается язык
				интерфейса. Класс <b>Loc</b> отвечает за I18n. Работает это так: все
				строки, которые предназначены для отображения, написаны на
				английском языке с использованием нижнего подчёркивания вместо
				пробела. Метод Loc.get(строка) будет возвращать строки на ранее
				установленном языке, если, конечно, найдётся файл локализации
				messages_xx.properties, где xx - условное обозначение языка. Иначе в
				английской фразе подчёркивания будут заменены на пробел, а первая
				буква будет сделана прописной. И получившееся будет использовано для
				отображения. Для целей данной программы этого вполне достаточно.
			</p>
			<p>
				Создаётся объект класса <b>SiteDescriptor</b> - объект для хранения
				всей информации о сайте, который будет сгенерирован. У созданного
				объекта тут же вызывается метод siteDescriptor.readData(). Здесь
				происходит чтение этой самой информации.
			</p>
			<p>
				Создаётся окно приложения - объект класса JFrame. И сразу вызывается
				метод makeJFrame(), в котором в окне приложения располагаются
				компоненты пользовательского интерфейса. Для их расположения
				используется класс GBL. <b>GBL</b> - это упрощение менеджера
				расположения GridBagLayout, адаптированное под нужды приложения.
				Компонентов пользовательского интерфейса не так уж много, но для их
				создания и настройки приходится писать много текста. Чтобы несколько
				упростить, всё, что связано с редактированием списка страниц,
				выделено в отдельный класс: <b>ListEditor</b>. Объект класса
				ListEditor формирует панель редактора списка страниц, которую можно
				получить методом getPanel() и расположить где угодно. Я её,
				естественно, располагаю на единственном экране своего приложения.
			</p>
			<p>
				Затем я инициализирую класс <b>Mes</b>, предназначенный для
				отображения различных сообщений с помощью диалоговых окон. Методы
				Mes статические, и это создаёт некоторую связанность классов моих
				программ, но я отношусь к нему как к System.out в Java.
			</p>
			<p>В заключение я вызываю метод readFromSiteDescriptor(), который
				заполнит компоненты пользовательского интерфейса ранее прочитанными
				данными из SiteDescriptor().</p>
			<p>
				Основная работа выполняется в слушателе кнопки "Сформировать
				страницы". Вызывается метод класса <b>Generator</b> DoIt(). Этот
				метод и сформирует страницы сайта на основании имеющихся данных.
			</p>
			<p>Более подробно о работе программы можно узнать, скачав проект,
				открыв его в Eclipse, читая тексты классов, внося изменения,
				запуская программу и наблюдая, что из этого получается.</p>
		</td>
	</tr>
	<tr>
		<td class="title2">Итоги</td>
	</tr>
	<tr>
		<td class="text">
			<p>Создание даже такой небольшой CMS существенно облегчило
				ведение моего сайта.</p>
		</td>
	</tr>
	<tr>
		<td class="title2">Хорошо бы…</td>
	</tr>
	<tr>
		<td class="text">
			<p>
				<a class="link" target="_blank"
					href="https://weekend-game.github.io/diary_ru.htm">Дневник</a>
				быстро разрастается. Надо убирать в архив старые записи.
			</p>
			<p>
				В <a class="link" target="_blank"
					href="https://weekend-game.github.io/diary_ru.htm">дневнике</a>
				нужно сделать фильтр, который позволит отфильтровывать записи по
				какому-то конкретному проекту.
			</p>
		</td>
	</tr>
</table>

<!-- End of Info -->
	<table>
		<tr>
			<td class="menu">
				<hr size=1 noshade>
				<br>
			</td>
		</tr>

		<tr>
			<td class="menu">
				<a class="link" href="index.htm">Главная страница</a>
				|
				<a class="link" href="bankviewer_ru.htm">Просмотр банковских выписок</a>
				|
				<a class="link" href="weekendtexteditor_ru.htm">Текстовый редактор</a>
				|
				<a class="link" href="weekendinterpreter_ru.htm">Интерпретатор</a>
				|
				<a class="link" href="aspenforest_ru.htm">Игра "Осиновый лес"</a>
				|
				CMS
				|
				<a class="link" href="seedkeeper_ru.htm">Учёт семян</a>
				|
				<a class="link" href="weekendwarehouse_ru.htm">Складской учёт</a>
				|
				<a class="link" href="diary_ru.htm">Дневник</a>
			</td>
		</tr>

		<tr>
			<td class="menu">
				<br>
Смотрите мои проекты на <a class="link" href="https://github.com/weekend-game">https://github.com/weekend-game</a>
(EN) или <a class="link" href="https://gitflic.ru/user/weekend-game">https://gitflic.ru/user/weekend-game</a> (RU).<br>
Пишите мне по адресу <a class="link" href="mailto:weekend_game@mail.ru">weekend_game@mail.ru</a><br>
			</td>
		</tr>
	</table>
	<br>

<!-- Generated with WeekendCMS. See more: https://github.com/weekend-game/weekendcms -->

</body>

</html>
